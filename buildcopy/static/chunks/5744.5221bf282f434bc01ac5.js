"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5744],{25744:function(e,n,t){t.r(n);var o=t(85893),c=t(67294),r=t(19663),s=t(71470),a=t(97314),i=t(96698);n.default=function(e){var n=e.t,t=e.changeStep,l=e.phone,u=(0,c.useState)(l?"+"+JSON.parse(l).country_code+JSON.parse(l).phone:""),d=u[0],h=u[1],m=(0,c.useState)(!1),b=m[0],p=m[1],f=(0,c.useState)(""),y=f[0],N=f[1],x=(0,c.useState)(""),v=x[0],_=x[1],j=c.createRef(),C=function(){var e=(0,r.SR)(d);i.Z.post("en/checkout/verify/check-number-api",{cell_no:e.nationalNumber,country_code:e.countryCallingCode}).then((function(n){localStorage.setItem("number",JSON.stringify({phone:e.nationalNumber,country_code:e.countryCallingCode})),!1===n.data?(p(!0),i.Z.post("en/checkout/verify/now",{cell_no:e.nationalNumber,country_code:e.countryCallingCode}).then((function(e){0===e.data?p(!1):N(e.data)}))):t()}))};return(0,o.jsxs)("div",{className:"register__step__one",children:[(0,o.jsx)("h4",{className:"text-center mt-3 mb-3",children:n("PLEASE ENTER YOUR MOBILE PHONE NUMBER TO REGISTER")}),(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-4"}),(0,o.jsxs)("div",{className:"col-md-4 mb-5",dir:"ltr",children:[(0,o.jsx)(r.ZP,{international:!0,defaultCountry:"QA",value:d,onChange:function(e){h(e)},error:d?(0,r.yf)(d)?void 0:"Invalid phone number":"Phone number required"}),(0,o.jsx)("div",{className:"phone_submit_wrapper text-center mt-3",children:(0,o.jsx)("button",{disabled:!(0,r.yf)(d),type:"submit",className:"btn btn-outline-success",onClick:C,children:n("Proceed")})})]}),(0,o.jsxs)(a.Z,{show:b,size:"sm",centered:!0,ref:j,children:[(0,o.jsx)(a.Z.Header,{children:(0,o.jsx)("h6",{children:n("Enter the OTP we sent to your given number")})}),(0,o.jsx)(a.Z.Body,{children:(0,o.jsx)(s.Z,{isInputNum:!0,value:v,onChange:function(e){_(e)},containerStyle:"otp",numInputs:4})}),(0,o.jsxs)(a.Z.Footer,{children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return p(!1)},children:n("Close")}),(0,o.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(b){var e=(0,r.SR)(d);i.Z.post("en/checkout/verify/final",{cell_no:e.nationalNumber,country_code:"+"+e.countryCallingCode,otp:v,id:y}).then((function(e){"success"===e.data?(p(!1),t()):C()}))}},children:"Verify"})]})]})]})})]})}}}]);