(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9480],{30764:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return C},default:function(){return P}});var n=r(85893),a=r(67294);"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var o=a.createContext({dibsy:null});var c,i,s=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){if("string"===typeof e&&(e={url:e}),!e.url)throw new Error("loadjs: you must provide a url");return a=t(a=e.url),Array.prototype.slice.apply(document.getElementsByTagName("script")).map((function(e){return t(e.src)})).indexOf(a)>-1?Promise.resolve("loaded"):(r=e.selector,n=function(e){var t=document.createElement("script");e.url&&(t.src=e.url);var r=e.extraPropMap;return r&&Object.keys(r).forEach((function(e){r[e]&&(t[e]=r[e])})),t}(e),r=r||document.body,new Promise((function(e,t){var a=!1;n.onload=n.onreadystatechange=function(){a||n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(a=!0,n.onload=n.onreadystatechange=null,e(n))},n.onerror=t,r.appendChild(n)})));var r,n,a}function t(e){return e.replace(/^https?:/,"")}return function(t){return t instanceof Array?Promise.all(t.map(e)):e(t)}}();t.default=r}(c={exports:{}},c.exports),c.exports),d=(i=s)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,l="https://cdn.dibsy.one/js/dibsy-1.0.0.js";function u(e){var t=(0,a.useState)(null),r=t[0],n=t[1],c=(0,a.useState)(!1),i=c[0],s=c[1];(0,a.useEffect)((function(){(function(){try{if(r)return Promise.resolve();var t=function(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}((function(){return Promise.resolve(d(l)).then((function(){return Promise.resolve(Dibsy(null===e||void 0===e?void 0:e.publicKey,{options:{disableLoader:!0},onFieldsError:function(t){null!==e&&void 0!==e&&e.onErrors&&(null===e||void 0===e||e.onErrors(t))},canSubmit:function(t){null===e||void 0===e||e.onCanSubmitChange(t)}})).then((function(e){n(e)}))}))}),(function(){console.log("Error while loading Dibsy SDK library")}));return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(a){return Promise.reject(a)}})().then()}),[]);var u=function(t){e.onSubmitStateChange&&e.onSubmitStateChange(t),"complete"===t&&s(!1)};return e.children?a.createElement(o.Provider,{value:{dibsy:r}},r&&e.children({submitPayment:function(t){if(r)try{s(!0),r.submit({paymentToken:t,state:u,onClose:e.onPaymentTabClose,callback:e.onPaymentComplete})}catch(n){}},isCheckoutSubmitted:i})):null}var m="_1gEjG",h="_3nI-Y";function p(e){var t=(0,a.useContext)(o).dibsy;return a.useEffect((function(){if(!t)throw new Error("This component should be wrapped inside EmbedFields.");var r=t.createComponent("cardNumber");r.mount("#card-number",e.customStyles||{}),r.errorMessage("#card-number-error")}),[]),a.createElement("div",{className:m},a.createElement("div",{id:"card-number"}),a.createElement("div",{id:"card-number-error",className:h}))}function f(e){var t=(0,a.useContext)(o).dibsy;return a.useEffect((function(){if(!t)throw new Error("This component should be wrapped inside EmbedFields.");var r=t.createComponent("expiryDate");r.mount("#expiry-date",e.customStyles||{}),r.errorMessage("#expiry-date-error")}),[]),a.createElement("div",{className:m},a.createElement("div",{id:"expiry-date"}),a.createElement("div",{id:"expiry-date-error",className:h}))}function y(e){var t=(0,a.useContext)(o).dibsy;return a.useEffect((function(){if(!t)throw new Error("This component should be wrapped inside EmbedWrapper.");var r=t.createComponent("cardCode");r.mount("#card-code",e.customStyles||{}),r.errorMessage("#card-code-error")}),[]),a.createElement("div",{className:m},a.createElement("div",{id:"card-code"}),a.createElement("div",{id:"card-code-error",className:h}))}var v=r(5152),_=r(9008),b=r(41664),x=r(11163),j=r(96698),g=r(91768),N=r(38880),w=r.n(N),S=r(17625),k=r(51436),E=(r(89250),(0,v.default)((function(){return r.e(5773).then(r.bind(r,65773))}),{loadableGenerated:{webpack:function(){return[65773]},modules:["checkout/order-received/[order].jsx -> ../../../components/layout/partials/Header"]}}));(0,v.default)((function(){return Promise.all([r.e(4885),r.e(7335)]).then(r.bind(r,47335))}),{loadableGenerated:{webpack:function(){return[47335]},modules:["checkout/order-received/[order].jsx -> ../../../components/Pages/Checkout/PaymentStatus"]}});var C=!0,P=(0,g.Z)("common")((function(e){var t=e.orderInfo,r=e.query,o=e.t,c=e.success;console.log(t);var i=(0,a.useState)(!1),s=i[0],d=i[1],l=(0,a.useState)(!1),m=l[0],h=l[1],v=(0,a.useState)("creditcard"),g=v[0],N=v[1],C=(0,a.useState)(!1),P=C[0],O=C[1],R=((0,x.useRouter)(),r.order);function T(e,t){e.preventDefault(),j.Z.post("/en/checkout/payment/".concat(R),{method:g}).then((function(e){var r,n;(console.log(e.data.data),"debitcard"==g)?window.open(e.data.data._links.checkout.href):null!==e&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.paymentToken?t(e.data.data.paymentToken):console.log("Error while initiating payment")})).catch((function(e){return console.log(e)}))}(0,a.useEffect)((function(){"true"==c&&j.Z.post("/en/checkout/save_payment_id",{order_id:t.id}).then((function(e){"canceled"==t.status?(h(!1),O(!0)):h(!0)})).catch((function(){window.alert("There are some problems with the payment id. please contact support")}))}),[]);var F=function(e){N(e)};return(0,n.jsxs)("div",{className:w().step_four,children:[(0,n.jsx)(_.default,{children:(0,n.jsx)("title",{children:"Order Received | Beautyboothqa "})}),(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{className:"text-center mt-3",children:[(0,n.jsx)(E,{text:o("CONFIRMATION")}),P&&(0,n.jsx)("h5",{className:"font-weight-bold text-center mb-3",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"text-danger",children:"Your Payment is Failed!"})," ",(0,n.jsx)("span",{className:"text-success",children:"But your order is confirmed."}),(0,n.jsx)("br",{}),"Please check your email from the Beauty booth and click Pay now it will be redirected to the payment link. For further assistance please contact our customer support team by social media channels / WhatsApp 77096563.",(0,n.jsx)("br",{})," ",(0,n.jsx)("span",{className:"text-danger",children:"N.B- Please do not place the same order again with cash on delivery. Even we do not receive any payment we will consider this cash on delivery and send it to you."})]})})]}),(0,n.jsxs)("div",{className:"row justify-content-center",children:["Cash On Delivery"!=t.payment_method&&"Card On Delivery"!=t.payment_method&&(0,n.jsx)(n.Fragment,{children:"pending_payment"!=t.status&&"canceled"!=t.status||0!=m?(0,n.jsxs)(n.Fragment,{children:["Paid"==t.is_paid&&(0,n.jsx)("div",{className:"col-lg-8 mt-4 order-md-last",children:(0,n.jsx)("div",{className:"col-lg-8 mt-4 order-md-last",children:(0,n.jsx)("h2",{className:"text-center text-success",children:"Payment Completed!"})})}),"failed"==t.is_paid&&(0,n.jsx)("div",{className:"col-lg-8 mt-4 order-md-last",children:(0,n.jsx)("div",{className:"col-lg-8 mt-4 order-md-last",children:(0,n.jsx)("h2",{className:"text-center text-warning",children:"Payment Failed!"})})})]}):(0,n.jsx)("div",{className:"col-lg-8 mt-4 order-md-last",children:(0,n.jsx)("div",{className:w().payment_input,children:(0,n.jsx)(u,{publicKey:"pk_live_sE77rz2BN1OQXWiInhILN3uglZogsRM44npB",onCanSubmitChange:function(e){d(e)},onPaymentComplete:function(e,r){console.log("on payment success"),e?j.Z.post("/en/checkout/save_payment_id",{order_id:t.id}).then((function(e){console.log("success"),h(!0)})).catch((function(){window.alert("There are some problems with the payment id. please contact support")})):window.alert("There are some problems with the payment id. please contact support")},children:function(e){var t=e.submitPayment,r=e.isCheckoutSubmitted;return(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsxs)("div",{className:w().payment_row,children:[(0,n.jsxs)("div",{className:w().heading,children:[(0,n.jsxs)("div",{className:w().left,children:[(0,n.jsx)("input",{type:"radio",value:"creditcard",name:"option",id:"cr",onChange:function(){return F("creditcard")},checked:"creditcard"==g}),(0,n.jsx)("label",{htmlFor:"cr",children:"Credit Card"})]}),(0,n.jsxs)("div",{className:w().right,children:[(0,n.jsx)("img",{src:"/payment/amex.svg"}),(0,n.jsx)("img",{src:"/payment/mc.svg"}),(0,n.jsx)("img",{src:"/payment/visa.svg"})]})]}),(0,n.jsx)("div",{className:w().payment_body,children:"creditcard"==g&&(0,n.jsxs)("div",{className:"card-container",children:[(0,n.jsx)(p,{}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(f,{})}),(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(y,{})})]})]})})]}),(0,n.jsx)("div",{className:"".concat(w().payment_row," ").concat(w().no_border),children:(0,n.jsxs)("div",{className:w().heading,children:[(0,n.jsxs)("div",{className:w().left,children:[(0,n.jsx)("input",{type:"radio",value:"debitcard",name:"option",id:"db",onChange:function(){return F("debitcard")},checked:"debitcard"==g}),(0,n.jsx)("label",{htmlFor:"db",children:"Debit Card"})]}),(0,n.jsxs)("div",{className:w().right,children:[" ",(0,n.jsx)("img",{src:"/payment/naps.svg"})," "]})]})}),"creditcard"==g?(0,n.jsx)("button",{className:"submit-button",onClick:function(e){return T(e,t)},disabled:!s||r,type:"submit",children:r?"Submitting ...":"Submit Payment"}):(0,n.jsx)("button",{onClick:function(e){return T(e,t)},className:"submit-button",children:"Submit Payment"})]})}})})})}),(0,n.jsxs)("div",{className:"col-lg-4",children:[(0,n.jsx)("div",{className:w().circle,children:(0,n.jsx)(S.G,{icon:k.LEp,className:"fa-2x text-success"})}),(0,n.jsx)("p",{className:w().greet,children:o("Thank you for shopping with us")}),(0,n.jsxs)("p",{className:w().greet,children:[o("Your ORDER ID is "),R," "]}),(0,n.jsx)("p",{className:w().greet,children:o("Order will be processed with 24-72 hours after confirmation")}),(0,n.jsx)("div",{className:w().continue_container,children:(0,n.jsx)(b.default,{href:"/",children:(0,n.jsx)("a",{className:w().back_shopping,children:o("Back To Shopping")})})})]})]})]})]})}))},27472:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/order-received/[order]",function(){return r(30764)}])},38880:function(e){e.exports={step_four:"OrderRecived_step_four__2Sp8r",greet:"OrderRecived_greet__kMZjy",continue_container:"OrderRecived_continue_container__3zPok",back_shopping:"OrderRecived_back_shopping__3I1rK",circle:"OrderRecived_circle__C-ojH",payment_link_info:"OrderRecived_payment_link_info__1FY_D",payment_method_button:"OrderRecived_payment_method_button__2gS2c",active:"OrderRecived_active__2fWWm",payment_input:"OrderRecived_payment_input__3fBAX",payment_row:"OrderRecived_payment_row__H_GNA",heading:"OrderRecived_heading__115Zk",left:"OrderRecived_left__1ybwI",right:"OrderRecived_right__1PQL4",no_border:"OrderRecived_no_border__2QiAU"}},89250:function(){},9008:function(e,t,r){e.exports=r(70639)}},function(e){e.O(0,[9774,2888,179],(function(){return t=27472,e(e.s=t);var t}));var t=e.O();_N_E=t}]);