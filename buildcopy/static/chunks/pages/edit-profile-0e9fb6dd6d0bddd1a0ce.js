(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9046,5773],{37040:function(e,a,s){"use strict";var l=s(85893),r=(s(67294),s(41664)),n=s(12625);a.Z=(0,n.withTranslation)("common")((function(e){var a=e.url,s=e.text,n=e.t;return(0,l.jsxs)("div",{className:a?"header_component":"header_component center",children:[(0,l.jsx)("span",{className:"header_title",children:s}),a?(0,l.jsx)(r.default,{href:a,children:(0,l.jsx)("a",{className:"header_see_all",children:(0,l.jsx)("span",{children:n("disc_more")})})}):null]})}))},65773:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return n}});var l=s(85893),r=s(51436);function n(e){var a=e.h,s=void 0===a?"h2":a,n=e.text,t=e.cssClass,o=void 0===t?"":t,i=e.lang,c=void 0===i?"en":i,d=e.url,u=void 0===d?null:d,m=e.urlText,h=void 0===m?{en:"see all",ar_QA:"\u0627\u0638\u0647\u0627\u0631 \u0627\u0644\u0643\u0644"}:m,p=e.Link,f=e.FontAwesomeIcon,x=e.textColor;return(0,l.jsxs)("div",{className:"header_component",children:[(0,l.jsx)(s,{style:x?{color:"red"}:{},className:"".concat(o),children:n}),u&&(0,l.jsx)(p,{href:u,children:(0,l.jsxs)("a",{className:"header_see_all",children:[(0,l.jsx)("span",{children:h[c]})," ",(0,l.jsx)(f,{className:"fa-xs",icon:r.eFW})]})})]})}},24271:function(e,a,s){"use strict";s.r(a);var l=s(85893),r=s(67294),n=s(19663),t=s(9198),o=s.n(t),i=s(9008),c=s(14494),d=s(76808),u=(s(28440),s(41664)),m=s(9669),h=s.n(m),p=s(37040),f=s(65773),x=s(39249),v=s(12625),_=s(50476),j=s.n(_);a.default=(0,c.$j)((function(e){return{auth:e.auth}}),(function(e){return{logout:function(){return(0,d.TX)(e)}}}))((0,v.withTranslation)("common")((function(e){var a=e.auth,s=(e.history,e.logout),t=e.lang,c=e.t,d=(0,r.useState)(null),m=d[0],v=(d[1],(0,r.useState)()),_=v[0],N=(v[1],(0,r.useState)("")),g=N[0],b=N[1],w=(0,r.useState)(""),y=w[0],S=w[1],C=(0,r.useState)(""),P=C[0],A=C[1],E=(0,r.useState)(""),k=E[0],F=E[1],q=(0,r.useState)(""),I=q[0],O=q[1],T=(0,r.useState)(""),Z=T[0],z=T[1],B=(0,r.useState)(""),Y=B[0],D=B[1],Q=(0,r.useState)(""),R=Q[0],X=Q[1],M=(0,r.useState)({}),U=M[0],$=M[1],H=(0,r.useState)(),J=H[0],L=H[1],V=(0,r.useState)(),W=V[0],G=V[1],K=(0,r.useState)(),ee=K[0],ae=K[1],se=(0,r.useState)(),le=se[0],re=se[1];(0,r.useEffect)((function(){if(a.isAuthenticated&&localStorage.getItem("auth_token")||location.replace("/login"),a.isAuthenticated&&!m){h().defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("auth_token")||"");var e="ar_QA"==t?"ar_QA":"en";h().get("/api/profile?locale=".concat(e)).then((function(e){b(e.data.user.first_name),S(e.data.user.email),X(e.data.user.profile.phone_no),A(e.data.user.profile.address),F(e.data.user.profile.city),O(e.data.user.profile.apartment),z(e.data.user.profile.others.profession),D(new Date(e.data.user.profile.others.dob))})).catch((function(e){}))}}),[a,m]);var ne=function(){var e={};return""==g&&(e.fullName="Full Name Required"),""==y?e.email="Email Name Required":function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(y)||(e.email="Email Not Valid"),(0,n.yf)(R)||(e.phone="Not a valid Phone Number"),""==P&&(e.fullAddress="Full Address Required"),""==k&&(e.area="Area Required"),e};return(0,l.jsxs)("div",{className:j().edit__profile__page,children:[(0,l.jsx)(i.default,{children:(0,l.jsx)("title",{children:"Edit Profile"})}),(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)(x.Ix,{}),(0,l.jsx)("div",{className:"text-center mt-2",children:(0,l.jsx)(f.default,{text:c("Edit Profile")})}),(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-lg-12",children:(0,l.jsx)("div",{className:"edit__form",children:(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=ne();a&&$(a),0===Object.keys(a).length&&(h().defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("auth_token")||""),h().post("/api/profiles/update-profile",{first_name:g,email:y,profile:{city:k,apartment:I,address:P,profile_image:_,phone_no:R},others:{profession:Z,dob:Y}}).then((function(e){x.Am.success(e.data,{position:"bottom-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})))},className:"my-5",children:[(0,l.jsxs)("div",{className:"row ",children:[(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"fullname",children:c("Full Name")}),(0,l.jsx)("input",{type:"text",className:U.fullName?"form-control is-invalid":"form-control",id:"fullname",name:"fullname",placeholder:"Enter Your Name...",value:g,onChange:function(e){b(e.target.value)}}),(0,l.jsx)("div",{className:"invalid-feedback",children:U.fullName})]})}),(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"email",children:c("Email address")}),(0,l.jsx)("input",{type:"email",className:U.email?"form-control is-invalid":"form-control",id:"email",name:"email",value:y,disabled:!0,onChange:function(e){S(e.target.value)},placeholder:"Enter email..."}),(0,l.jsx)("div",{className:"invalid-feedback",children:U.email})]})})]}),(0,l.jsxs)("div",{className:"row ",children:[(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"phone__number",children:c("Your Phone Number")}),(0,l.jsx)(n.ZP,{international:!0,defaultCountry:"QA",value:R,onChange:function(e){X(e)}}),U.phone&&(0,l.jsx)("small",{className:"mt-2 text-danger",children:U.phone})]})}),(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"apt",children:"Apartment/Suit/Unit (optional)"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"apt",name:"apt",value:I,onChange:function(e){O(e.target.value)}})]})})]}),(0,l.jsxs)("div",{className:"row ",children:[(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"address",children:c("Full Address")}),(0,l.jsx)("input",{type:"text",className:U.fullAddress?"form-control is-invalid":"form-control",id:"address",name:"address",value:P,onChange:function(e){A(e.target.value)},placeholder:"Enter Your address..."}),(0,l.jsx)("div",{className:"invalid-feedback",children:U.fullAddress})]})}),(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"area",children:c("Area")}),(0,l.jsx)("input",{type:"text",className:U.area?"form-control is-invalid":"form-control",id:"area",name:"area",value:k,onChange:function(e){F(e.target.value)},placeholder:"Please enter your area"}),(0,l.jsx)("div",{className:"invalid-feedback",children:U.area})]})}),(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"profession",children:"Your occupassion (optional)"}),(0,l.jsx)("input",{type:"text",className:"form-control",name:"profession",value:Z,onChange:function(e){z(e.target.value)}})]})}),(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"profession",children:"Your Date of Birth (optional)"}),(0,l.jsx)(o(),{name:"dob",className:"form-control",dateFormat:"dd/MM/yyyy",selected:Y,onChange:function(e){return D(e)}})]})})]}),(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col",children:(0,l.jsxs)("div",{className:j().buttons__wrapper,children:[(0,l.jsx)(u.default,{href:"/profile",children:(0,l.jsxs)("a",{className:j().cancle,children:[" ",c("Cancel")]})}),(0,l.jsx)("input",{type:"submit",className:j().update,value:c("Update")})]})})})]})})})}),(0,l.jsxs)("div",{className:"row ",children:[(0,l.jsx)(p.Z,{}),(0,l.jsx)("div",{className:"col-md-6 mx-auto",children:(0,l.jsxs)("div",{className:"change_pass",children:[(0,l.jsx)("span",{className:"title",children:c("Change Password")}),(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={old__pass:J,new__pass:W,confirm__pass:ee};h().defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("auth_token")||""),h().post("/api/profiles/change-password",a).then((function(e){re(null),s()})).catch((function(e){e&&(console.log(e),re(e.response.data))}))},children:[(0,l.jsxs)("div",{className:"form-group pass_group",children:[(0,l.jsx)("label",{className:"input_label",children:c("Old Password")}),(0,l.jsx)("input",{type:"password",required:!0,className:"form-control input_box",name:"old__pass",value:J,onChange:function(e){return L(e.target.value)}})]}),(0,l.jsxs)("div",{className:"form-group pass_group",children:[(0,l.jsx)("label",{className:"input_label",children:c("New Password")}),(0,l.jsx)("input",{type:"password",required:!0,className:"form-control input_box",name:"new__pass",value:W,onChange:function(e){return G(e.target.value)}})]}),(0,l.jsxs)("div",{className:"form-group pass_group",children:[(0,l.jsx)("label",{className:"input_label",children:c("Confirm Password")}),(0,l.jsx)("input",{type:"password",required:!0,className:"form-control input_box",name:"new__pass",value:ee,onChange:function(e){return ae(e.target.value)}})]}),le&&(0,l.jsx)("div",{className:"alert alert-danger",children:JSON.stringify(le)}),(0,l.jsx)("div",{className:"form_btn_container",children:(0,l.jsx)("input",{className:"submit_btn change_btn",type:"submit",value:c("Save Changes")})})]})]})})]})]})]})})))},73149:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-profile",function(){return s(24271)}])},50476:function(e){e.exports={edit__profile__page:"EditProfilePage_edit__profile__page__1s_0Z",buttons__wrapper:"EditProfilePage_buttons__wrapper__1IxX6",cancle:"EditProfilePage_cancle__1lk8N",update:"EditProfilePage_update__6EPai"}}},function(e){e.O(0,[9663,15,9727,9774,2888,179],(function(){return a=73149,e(e.s=a);var a}));var a=e.O();_N_E=a}]);