(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1809,7094],{17094:function(e,r,s){"use strict";s.r(r);var a=s(85893),t=s(67294),n=s(5152),i=s(9008),o=s(14494),l=s(76808),c=s(73455),d=s.n(c),u=(0,n.default)((function(){return s.e(8473).then(s.bind(s,68473))}),{loadableGenerated:{webpack:function(){return[68473]},modules:["../components/profile/Layout.jsx -> ./SideBar"]}});r.default=(0,o.$j)((function(e){return{auth:e.auth}}),(function(e){return{logout:function(){return(0,l.TX)(e)}}}))((function(e){var r=e.children,s=e.active,n=e.auth,o=e.logout;return(0,t.useEffect)((function(){n.isAuthenticated||(o(),window.location.href="/login")}),[n]),(0,a.jsxs)("div",{className:"".concat(d().user_profile," my-3"),children:[(0,a.jsx)(i.default,{children:(0,a.jsx)("title",{children:"User Profile"})}),n.isAuthenticated&&(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-3",children:(0,a.jsx)(u,{styles:d(),active:s})}),(0,a.jsx)("div",{className:"col-lg-9",children:(0,a.jsx)("div",{className:d().main_container,children:r&&t.cloneElement(r,{auth:n})})})]})})]})}))},4773:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return p}});var a=s(92809),t=s(85893),n=s(67294),i=s(19663),o=s(9669),l=s.n(o),c=s(11163),d=s(73455),u=s.n(d);var _=function(e){var r=e.lang,s=e.auth,a=(0,c.useRouter)();(0,n.useEffect)((function(){s.isAuthenticated&&localStorage.getItem("auth_token")||a.push("/login"),s.isAuthenticated&&(l().defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("auth_token")||""))}),[s,r]);var o=(0,n.useState)(),d=o[0],_=o[1],m=(0,n.useState)(),f=m[0],h=m[1],p=(0,n.useState)(),g=p[0],P=p[1],v=(0,n.useState)("Qatar"),x=v[0],j=v[1],b=(0,n.useState)(),N=b[0],y=b[1],w=(0,n.useState)(),U=w[0],k=w[1],O=(0,n.useState)(),C=O[0],S=O[1],A=(0,n.useState)(!1),E=A[0],q=A[1],B=(0,n.useState)(!1),F=B[0],D=B[1];return(0,t.jsxs)("div",{className:u().new_address,children:[(0,t.jsx)("div",{className:"".concat(u().sectionHeader," mb-3"),children:"New Address"}),(0,t.jsx)("div",{className:u().newAddress_form,children:(0,t.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),(0,i.yf)(d)){var r={fname:f,lname:g,phoneNumber:d,country:x,address:N,city:U,postCode:C,addressType:"billing",isDefault:E},s={fname:f,lname:g,phoneNumber:d,country:x,address:N,city:U,postCode:C,addressType:"shipping",isDefault:F};l().post("/api/account/address",{billing:r,shipping:s}).then((function(e){1==e.data.ok&&(_(),h(),P(),j("Qatar"),y(),k(),S(),q(!1),D(!1),a.push("/profile/addressbook"))})).catch((function(e){console.log(e)}))}},children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"fname",children:"First Name"}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"fname",required:!0,name:"fname",placeholder:"first name...",value:f,onChange:function(e){return h(e.target.value)}})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"lname",children:"Last Name"}),(0,t.jsx)("input",{type:"text",required:!0,className:"form-control",id:"lname",name:"lname",placeholder:"Last name...",value:g,onChange:function(e){return P(e.target.value)}})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"telephone",children:"Telephone"}),(0,t.jsx)(i.ZP,{international:!0,defaultCountry:"QA",value:d,onChange:function(e){_(e)},autoComplete:"none",error:d?(0,i.yf)(d)?void 0:"Invalid phone number":"Phone number required"}),d&&(0,i.yf)(d)?null:(0,t.jsx)("div",{className:"ml-4 text-danger",children:"Valid phone number required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Country"}),(0,t.jsx)("select",{value:x,name:"country",className:"form-control",onChange:function(e){return j(e.target.value)},children:(0,t.jsx)("option",{value:"Qatar",children:"Qatar"})})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"address1",children:"Address"}),(0,t.jsx)("input",{type:"text",required:!0,className:"form-control",id:"address",placeholder:"Address line one...",value:N,onChange:function(e){return y(e.target.value)}})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"city",children:"City"}),(0,t.jsx)("input",{type:"text",required:!0,className:"form-control",id:"city",placeholder:"city...",value:U,onChange:function(e){return k(e.target.value)}})]})})]}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"postcode",children:"Post Code/Zip"}),(0,t.jsx)("input",{required:!0,type:"text",className:"form-control",id:"postcode",placeholder:"Post Code/Zip",value:C,onChange:function(e){return S(e.target.value)}})]})})}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("div",{className:"form-group",children:(0,t.jsxs)("div",{className:"custom-control custom-checkbox mr-sm-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"dbilling",name:"dbilling",checked:E,onChange:function(e){return q(!E)}}),(0,t.jsx)("label",{className:"custom-control-label",htmlFor:"dbilling",children:"Use as my default billing address"})]})})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("div",{className:"form-group",children:(0,t.jsxs)("div",{className:"custom-control custom-checkbox mr-sm-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"dshipping",name:"dshipping",checked:F,onChange:function(e){return D(!F)}}),(0,t.jsx)("label",{className:"custom-control-label",htmlFor:"dshipping",children:"Use as my default shipping address"})]})})})]}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col",children:(0,t.jsx)("input",{type:"submit",className:u().saveBtn,value:"Save New Address"})})})]})})]})},m=s(17094);function f(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,a)}return s}function h(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?f(Object(s),!0).forEach((function(r){(0,a.Z)(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}var p=function(e){return(0,t.jsx)("div",{children:(0,t.jsx)(m.default,{children:(0,t.jsx)(_,h({},e))})})}},57819:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/address/new",function(){return s(4773)}])},73455:function(e){e.exports={user_profile:"UserProfilePage_user_profile__2Izfq",side_container:"UserProfilePage_side_container__-WqwI",side_header:"UserProfilePage_side_header__3wXH2",side_list:"UserProfilePage_side_list__htNpA",side_item:"UserProfilePage_side_item__3oQO5",active:"UserProfilePage_active__3fB_w",mb_select:"UserProfilePage_mb_select__3oGwu",main_container:"UserProfilePage_main_container__2khMq",welcome:"UserProfilePage_welcome__Y6LgN",ac_info:"UserProfilePage_ac_info__3zG-E",addressbook:"UserProfilePage_addressbook__2IOke",addressbook_title:"UserProfilePage_addressbook_title__164zz",address_info:"UserProfilePage_address_info__3h8cv",address_title:"UserProfilePage_address_title__1xRyX",add_new:"UserProfilePage_add_new__1nnch",new_address:"UserProfilePage_new_address__ltTVB",sectionHeader:"UserProfilePage_sectionHeader__sxmQu",saveBtn:"UserProfilePage_saveBtn__6ig4R",refer__friend__form:"UserProfilePage_refer__friend__form__3hzul",order_history:"UserProfilePage_order_history__Uvq0l","btn-sm":"UserProfilePage_btn-sm__3PUw2",history_title_container:"UserProfilePage_history_title_container__1TAHD",history_title:"UserProfilePage_history_title__1SsAR",accordion__item:"UserProfilePage_accordion__item__eA2ga",accordion__panel:"UserProfilePage_accordion__panel__2Hl1J",accordion__button:"UserProfilePage_accordion__button__1EB9m",sts:"UserProfilePage_sts__RAKHn",table_heading:"UserProfilePage_table_heading__20-PE",order_heading:"UserProfilePage_order_heading__2ItmQ",table:"UserProfilePage_table__1mS-5",order_details_ul:"UserProfilePage_order_details_ul__1Bwed",li_title:"UserProfilePage_li_title__OPHBz"}},9008:function(e,r,s){e.exports=s(70639)}},function(e){e.O(0,[9663,9774,2888,179],(function(){return r=57819,e(e.s=r);var r}));var r=e.O();_N_E=r}]);