(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4482],{77995:function(e,t,n){"use strict";n.d(t,{Po:function(){return i},vI:function(){return c},vM:function(){return r},FX:function(){return s}});var a=n(39606),i=function(e){window&&window.dataLayer&&(dataLayer.push({ecommerce:null}),dataLayer.push({event:"productClick",ecommerce:{click:{product:[{name:e.name,id:e.id,price:e.price.formatted}]}}}))},c=function(e,t){window&&window.dataLayer&&(dataLayer.push({ecommerce:null}),dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"QAR",add:{products:[{name:e.name,id:e.id,price:e.price.formatted,quantity:t}]}}}))},r=function(e){var t=e.map((function(e){return{id:e.product_id,name:e.name,qty:e.qnt,price:e.price.amount}}));window&&window.dataLayer&&(dataLayer.push({ecommerce:null}),dataLayer.push({event:"begin_checkout",ecommerce:{items:(0,a.Z)(t)}}))},s=function(e){var t=e.map((function(e){return{id:e.product_id,name:e.name,qty:e.qnt,price:e.price.amount}}));window&&window.dataLayer&&(dataLayer.push({ecommerce:null}),dataLayer.push({event:"transection",ecommerce:{items:{actionField:{step:4,option:"Visa"},products:t}}}))}},18101:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(85893),i=n(67294),c=n(14494),r=n(9008),s=n(5152),o=n(41664),l=n(39249),d=n(12625),u=n(30571),m=n(96698),_=n(70434);var p=function(e){var t=e.bag,n=e.maxValue,i=e.cartItem,c=e.plusOne,r=e.minusOne,s=e.removeCartItem,l=e.stock,d=e.t,u=e.flag,m=e.inputItem,p=function(e,t,n){c(e,n)},h=function(e,t,n){t>1&&r(e,n)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:t.img_container,children:(0,a.jsx)("img",{src:i.thumb,alt:""})}),(0,a.jsxs)("div",{className:t.details_container,children:[(0,a.jsx)(o.default,{href:"/product/".concat(i.slug),children:(0,a.jsxs)("a",{children:[" ",(0,a.jsxs)("span",{className:t.product_name,children:[i.name," "]})]})}),(0,a.jsx)("span",{children:i.option_value}),(0,a.jsx)("div",{children:l?(0,a.jsx)("span",{className:t.status,children:d("in stock")}):(0,a.jsx)("span",{className:t.status,style:{color:"red",fontSize:14},children:d("out of stock")})}),(0,a.jsx)("div",{children:!l&&(0,a.jsx)("button",{onClick:function(e){m(i.product_id,i.option_id,n)},style:{fontSize:13,padding:5},className:"btn btm-sm font-weight-bold my-2 btn-outline-success",children:"Adjust to available stock"})}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{style:{display:"inline-block",color:"black",borderRadius:"4px",padding:"3px 10px",cursor:"pointer",marginTop:5,textTransform:"uppercase"},onClick:function(){return function(e,t){s(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}(i.product_id,i.option_id,i.bulk_id)},className:"bg-warning",children:"delete"})})]}),(0,a.jsxs)("div",{className:t.quantity_container,children:[(0,a.jsx)("button",{disabled:1===i.qnt,onClick:function(){return h(i.product_id,i.qnt,i.option_id)},children:"-"}),(0,a.jsx)("input",{type:"number",value:i.qnt,name:"qnt_input",className:t.qnt_input,id:"",readOnly:i.max_cart_qnt<=i.qnt,onInput:function(e){return function(e,t,n,a,i){parseInt(e.target.value)>0&&n<i&&parseInt(e.target.value)<i&&m(t,a,parseInt(e.target.value))}(e,i.product_id,i.qnt,i.option_id,i.max_cart_qnt)}}),(0,a.jsx)("button",{disabled:i.max_cart_qnt<=i.qnt,onClick:function(){return p(i.product_id,i.qnt,i.option_id)},children:"+"})]}),(0,a.jsxs)("div",{className:t.price_container,children:[(0,a.jsxs)("div",{className:t.md_quantity_container,children:[(0,a.jsx)("button",{onClick:function(){return h(i.product_id,i.qnt,i.option_id)},children:"-"}),(0,a.jsx)("span",{children:i.qnt}),(0,a.jsx)("button",{disabled:i.max_cart_qnt<=i.qnt,onClick:function(){return p(i.product_id,i.qnt,i.option_id)},children:"+"})]}),(0,a.jsxs)("span",{className:t.md_price,children:[" ",i.price.currency," ",(0,_.test)(i,u).toFixed(2),!u&&(0,_.activeParcent)(i.offers,i.qnt)&&(0,a.jsxs)("span",{style:{fontSize:13,color:"green",display:"block"},children:["Save ",(0,_.activeParcent)(i.offers,i.qnt),"%"," "]})]})]})]})},h=n(60370),g=n.n(h),f=n(17625),x=n(51436),j=n(77995),b=(0,s.default)((function(){return n.e(5773).then(n.bind(n,65773))}),{loadableGenerated:{webpack:function(){return[65773]},modules:["bag.js -> ../components/layout/partials/Header"]}});var v=(0,c.$j)((function(e){return{cartItems:e.cart.cartItem,auth:e.auth}}),(function(e){return{removeCartItem:function(t,n,a){return(0,u.B8)(e,t,n,a)},plusOne:function(t,n){return(0,u.AP)(e,t,n)},minusOne:function(t,n){return(0,u.eO)(e,t,n)},inputItem:function(t,n,a){return(0,u.WP)(e,t,n,a)},setCartAfterPriceChange:function(t){return(0,u.tl)(e,t)}}}))((0,d.withTranslation)("common")((function(e){var t=e.t,n=(0,i.useState)(e.cartItems),c=(n[0],n[1]),s=(0,i.useState)(e.cartItems.reduce((function(e,t){return e+t.qnt*t.price.amount}),0)),d=s[0],u=s[1],h=(0,i.useState)([]),v=h[0],N=h[1],y=(0,i.useState)([]),I=y[0],S=y[1],k=(0,i.useState)(!1),q=k[0],B=k[1],w=(0,i.useState)(10),C=w[0],O=w[1],E=(0,i.useState)(!1),A=E[0],L=E[1],R=(0,i.useState)(""),P=R[0],T=R[1],F=(0,i.useState)(""),D=(F[0],F[1]),G=(0,i.useState)(0),M=G[0],z=G[1],U=(0,i.useState)(),Q=U[0],Y=U[1],H=(0,i.useState)(),J=H[0],Z=H[1],W=(0,i.useState)(localStorage.getItem("gift")?JSON.parse(localStorage.getItem("gift")):null),X=W[0],V=W[1];(0,i.useEffect)((function(){L(!!localStorage.getItem("coupon_id")),T(localStorage.getItem("coupon")||""),D(localStorage.getItem("coupon_id")||""),z(localStorage.getItem("discount")||0),Y(localStorage.getItem("method")||"regular")}),[]),(0,i.useEffect)((function(){var t="en"===e.lang?"en":"ar_QA";m.Z.get("".concat(t,"/getdata/free_gift")).then((function(e){e.data.length>0&&Z(e.data)}))}),[e.lang]),(0,i.useEffect)((function(){if(e.cartItems.length>0){var t=e.cartItems.map((function(e){return{product_id:e.product_id,price:e.price.amount,qty:e.qnt,option:e.option_main_id||null,option_child:e.option_id||null}}));m.Z.post("en/cartdata/items",t).then((function(t){var n=[],a=[];t.data.map((function(e){n.push(e.in_stock),a.push(e.qty)})),S(a);var i=t.data,c=!1,r=e.cartItems.map((function(e,t){return e.price.amount!==i[t].selling_price.amount&&(c=!0,e.price=i[t].selling_price),e}));c&&e.setCartAfterPriceChange(r),N(n);var s=n.filter((function(e){return!1===e})).length;B(s>0)})),localStorage.getItem("coupon_id")&&te()}}),[e.cartItems,P]),(0,i.useEffect)((function(){u(e.cartItems.reduce((function(e,t){return e+t.qnt*t.price.amount}),0)-M),O("store_pickup"==Q?0:"express"==Q?20:d<100?10:0)}),[Q,d,e.cartItems]),(0,i.useEffect)((function(){c(e.cartItems)}),[e.cartItems]);var $=(0,i.useState)(null),K=$[0],ee=$[1],te=function(){if(/((\bINF)-(\d[0-9]*)-(\bBB$))/.test(P.toString()));else{var t=e.cartItems.map((function(e){return{product_id:e.product_id,price:e.price.amount,qty:e.qnt,option:e.option_main_id||null,option_child:e.option_id||null}})),n=e.auth.isAuthenticated?JSON.parse(e.auth.user).email:null;m.Z.post("en/checkout/coupon",{api:!0,cart:t,coupon:P,email:n}).then((function(t){L(!0),ee(null),D(t.data.coupon_id),z(t.data.discount),u(e.cartItems.reduce((function(e,t){return e+t.qnt*t.price.amount}),0)-t.data.discount),localStorage.setItem("coupon_id",t.data.coupon_id),localStorage.setItem("discount",t.data.discount),localStorage.setItem("coupon",P)})).catch((function(e){z(0)}))}},ne=function(e){localStorage.setItem("method",e),Y(e)};return(0,i.useEffect)((function(){var e=localStorage.getItem("gift");if(e&&J){var t=JSON.parse(e),n=J.find((function(e){return e.id==t.id}));d<n.free_gift.cart_min&&(V(),localStorage.removeItem("gift"))}}),[d,J]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{children:(0,a.jsx)("title",{children:"Bag | Beautyboothqa "})}),(0,a.jsx)("div",{className:"".concat(g().my_bag," mb-5"),children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"row mt-3 text-center",children:(0,a.jsx)(b,{h:"h2",text:t("IN YOUR BAG")})}),e.cartItems.length>0?(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:g().mybag_details,children:[(0,a.jsxs)("div",{className:g().mybag_left,children:[(0,a.jsxs)("div",{className:g().inbag_products,children:[e.cartItems.map((function(n,i){return(0,a.jsx)("div",{className:g().bag_product,children:(0,a.jsx)(p,{maxValue:I[i],inputItem:e.inputItem,flag:A,t:t,stock:v[i],removeCartItem:e.removeCartItem,plusOne:e.plusOne,minusOne:e.minusOne,cartItem:n,bag:g()})},i)})),X&&(0,a.jsxs)("div",{className:g().gitProduct_row,children:[(0,a.jsx)("img",{src:X.image}),(0,a.jsxs)("div",{className:g().details_container,children:[(0,a.jsx)("div",{className:g().name,children:X.name}),(0,a.jsx)("span",{children:"Free Gift"}),(0,a.jsx)("button",{style:{background:"#ff5ba2",color:"white"},className:"btn btn-sm ",onClick:function(){V(),localStorage.removeItem("gift")},children:"Reset"})]}),(0,a.jsx)("div",{className:g().price,children:"QAR 00.00"})]}),(0,a.jsxs)("div",{className:g().sub_total,children:[(0,a.jsx)("span",{children:t("ORDER SUB-TOTAL")}),(0,a.jsxs)("span",{children:[" ",e.cartItems[0].price.currency," ",(0,_.calculateSubTotal)(e.cartItems,A).toFixed(2)]})]})]}),(0,a.jsx)("div",{className:"".concat(g().deliviry_method_row," col  mt-3"),children:(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{className:"store_pickup"==Q?g().active:"",onClick:function(){return ne("store_pickup")},children:[(0,a.jsx)("div",{className:g().method_checked,children:(0,a.jsx)(f.G,{icon:x.LEp})}),(0,a.jsx)("span",{className:g().method_title,children:t("Store pickup")}),(0,a.jsx)("p",{className:g().method_details,children:t("shop_address")})]}),(0,a.jsxs)("li",{className:"express"==Q?g().active:"",onClick:function(){return ne("express")},children:[(0,a.jsx)("div",{className:g().method_checked,children:(0,a.jsx)(f.G,{icon:x.LEp})}),(0,a.jsx)("span",{className:g().method_title,children:t("Express Delivery")}),(0,a.jsx)("p",{className:g().method_details,children:t("express note")})]}),(0,a.jsxs)("li",{className:"regular"==Q?g().active:"",onClick:function(){return ne("regular")},children:[(0,a.jsx)("div",{className:g().method_checked,children:(0,a.jsx)(f.G,{icon:x.LEp})}),(0,a.jsx)("span",{className:g().method_title,children:t("Regular Delivery")}),(0,a.jsx)("p",{className:g().method_details,children:t("d_info")})]})]})}),(0,a.jsx)(o.default,{href:"/faq?mark=delivery",children:(0,a.jsx)("a",{style:{fontSize:12},className:"btn btn-sm btn-outline-info text-uppercase m-3",children:t("Read More About our Delivery System")})})]}),(0,a.jsxs)("div",{className:g().mybag_right,children:[(0,a.jsx)("div",{className:"".concat(g().payment_group," mt-4"),children:(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("input",{type:"text",name:"coupon",className:"form-control",value:P,onChange:function(e){return T(e.target.value.toUpperCase())},placeholder:t("Enter Special Code"),maxLength:12,id:"coupon",disabled:A}),(0,a.jsx)("div",{className:"input-group-append",children:A?(0,a.jsx)("button",{className:"btn btn-flat btn-outline-danger",onClick:function(){return localStorage.removeItem("coupon"),localStorage.removeItem("coupon_id"),localStorage.removeItem("discount"),D(""),T(""),z(0),L(!1),void u(e.cartItems.reduce((function(e,t){return e+t.qnt*t.price.amount}),0)-0)},children:"Clear"}):(0,a.jsx)("button",{className:"btn btn-flat btn-outline-primary",onClick:te,disabled:A,children:t("Apply")})})]})}),K&&(0,a.jsx)("div",{className:"text-danger",children:K}),(0,a.jsxs)("div",{className:"".concat(g().summery," mb-2"),children:[(0,a.jsx)("div",{className:g().item_title,children:t("ORDER SUMMARY")}),(0,a.jsxs)("div",{className:g().summery_items,children:[(0,a.jsxs)("div",{className:g().summery_item,children:[(0,a.jsx)("span",{className:g().sub,children:t("ORDER SUB-TOTAL")}),(0,a.jsx)("span",{className:g().amount,children:(0,_.priceWithoutDiscount)(e.cartItems).toFixed(2)})]}),(0,a.jsxs)("div",{className:g().summery_item,children:[(0,a.jsxs)("span",{className:g().sub,children:[t("SHIPPING"),"*"]}),(0,a.jsxs)("span",{className:g().amount,children:[C,".00"]})]}),(0,a.jsxs)("div",{className:g().summery_item,children:[(0,a.jsx)("span",{className:g().sub,children:t("DISCOUNT")}),(0,a.jsxs)("span",{className:g().amount,children:[" ","\u2212"," ",A?M:(0,_.priceWithoutDiscount)(e.cartItems)-(0,_.calculateSubTotal)(e.cartItems),".00"]})]}),(0,a.jsxs)("div",{className:"".concat(g().summery_item," ").concat(g().total),children:[(0,a.jsx)("span",{className:g().sub,children:t("GRAND TOTAL")}),(0,a.jsx)("span",{className:g().amount,children:((0,_.calculateSubTotal)(e.cartItems,A)+C-M).toFixed(2)})]}),(0,a.jsx)("div",{className:g().checkout_btn_container,children:q?(0,a.jsx)("span",{children:t("cart_warning")}):(0,a.jsx)(o.default,{href:"/checkout",children:(0,a.jsx)("span",{onClick:function(){(0,j.vM)(e.cartItems)},children:t("PROCEED TO CHECKOUT")})})})]})]}),(0,a.jsx)("strong",{children:d<100?"Order QAR ".concat(100-d," more to get free shipping"):""})]})]}),(0,a.jsxs)("div",{className:"col-12",children:[(0,a.jsx)(l.Ix,{}),J&&!X&&(0,a.jsx)("h4",{className:"text-center my-2",children:t("Free Gift")}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-12",children:J&&!X&&J.map((function(e,t){return(0,a.jsxs)("button",{onClick:function(){var t;d<(t=e).free_gift.cart_min?l.Am.error("You are not eligible for this Free Gift",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}):(V({id:t.id,name:t.name,image:t.files[0].thumbnail_image,cart_min:t.free_gift.cart_min}),localStorage.setItem("gift",JSON.stringify({id:t.id,name:t.name,image:t.files[0].thumbnail_image,cart_min:t.free_gift.cart_min})))},className:"".concat(g().brand__offer__card," mb-2 px-2"),children:[(0,a.jsx)("img",{src:e.files[0].thumbnail_image,alt:e.name}),(0,a.jsx)("div",{className:g().brand__name,children:e.name}),(0,a.jsxs)("div",{className:g().rangePrice,children:["Min. amount: QAR ",e.free_gift.cart_min,".00",(0,a.jsx)("br",{}),"Max amount: QAR ",e.free_gift.cart_max,".00"]})]},t)}))})})]})]}):(0,a.jsx)("h4",{className:"text-center m-5",children:t("Your Bag is Empty")})]})})]})})))},84091:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bag",function(){return n(18101)}])},60370:function(e){e.exports={mybag_details:"Bag_mybag_details__3GmQM",mybag_left:"Bag_mybag_left__11yzy",deliviry_method_row:"Bag_deliviry_method_row__iH71L",method_checked:"Bag_method_checked__2ioby",active:"Bag_active__324-3",method_title:"Bag_method_title__FY36w",mybag_right:"Bag_mybag_right__2rRYN",inbag_products:"Bag_inbag_products__2c0hw",bag_product:"Bag_bag_product__2d6MW",img_container:"Bag_img_container__tFlZJ",details_container:"Bag_details_container__Sqio7",product_name:"Bag_product_name__2qLpz",brand_name:"Bag_brand_name__1hJFS",status:"Bag_status__3vzS2",delete_btn:"Bag_delete_btn__2zb_M",md_quantity_container:"Bag_md_quantity_container__36C5I",quantity_container:"Bag_quantity_container__k0Xk5",qnt_input:"Bag_qnt_input__puXZA",price_container:"Bag_price_container__279qs",md_price:"Bag_md_price__3DU5-",sub_total:"Bag_sub_total__irocw",gitProduct_row:"Bag_gitProduct_row__q7LFB",name:"Bag_name__Fll7t",price:"Bag_price__20Nuq",summery:"Bag_summery__1d-6j",item_title:"Bag_item_title__3gP0e",summery_item:"Bag_summery_item__YgqTM",total:"Bag_total__3Azzo",checkout_btn_container:"Bag_checkout_btn_container__17RWS",my_bag:"Bag_my_bag__3hgb0",brand__offer__card:"Bag_brand__offer__card__2e7Vt",brand__name:"Bag_brand__name__i21cm",rangePrice:"Bag_rangePrice__2mHuk"}},9008:function(e,t,n){e.exports=n(70639)}},function(e){e.O(0,[9774,2888,179],(function(){return t=84091,e(e.s=t);var t}));var t=e.O();_N_E=t}]);