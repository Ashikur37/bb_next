"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8370],{28370:function(e,s,n){n.r(s);var a=n(85893),i=n(67294),c=n(41664),t=n(9669),d=n.n(t),l=n(11163),r=n(73455),o=n.n(r),h=n(12625);s.default=(0,h.withTranslation)("common")((function(e){var s=e.Auth,n=e.language,t=e.data,r=e.t,h=(0,l.useRouter)(),u=(0,i.useState)(t.filter((function(e){return e.isDefault})))[0],m=(0,i.useState)(t.filter((function(e){return 0==e.isDefault})))[0];(0,i.useEffect)((function(){s||(window.location.href="/login")}),[s,n]);var f=function(e){d().defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("auth_token")||""),d().get("/api/deleteAddress?id=".concat(e)).then((function(e){e.data.error?window.alert(e.data.error):h.reload()}))};return(0,a.jsxs)("div",{className:o().addressbook,children:[u&&(0,a.jsx)("div",{className:o().addressbook_title,children:r("Default Addresses")}),(0,a.jsx)("div",{className:"row mb-3",children:u&&u.map((function(e){return(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:o().address_info,children:[(0,a.jsx)("div",{className:o().address_title,children:"shipping"==e.addressType?r("Shipping Address"):r("Billing Address")}),(0,a.jsxs)("ul",{className:"".concat(o().address_list," mb-2"),children:[(0,a.jsx)("li",{children:"".concat(e.fname," ").concat(e.lname)}),(0,a.jsx)("li",{children:"".concat(e.address)}),(0,a.jsx)("li",{children:"".concat(e.city)}),(0,a.jsx)("li",{children:"".concat(e.postCode)}),(0,a.jsx)("li",{children:"".concat(e.country)}),(0,a.jsxs)("li",{children:["T: ","".concat(e.phoneNumber)]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(c.default,{href:"/profile/address/edit/".concat(e._id),children:(0,a.jsx)("a",{style:{textDecoration:"",color:"black"},className:"btn btn-outline-warning btn-sm",children:"Edit"})}),(0,a.jsx)("a",{onClick:function(){return f(e._id)},className:"btn btn-outline-danger btn-sm ml-3",children:"Delete"})]})},e.fname+e.phoneNumber)}))}),m&&(0,a.jsx)("div",{className:o().addressbook_title,children:r("Additional Addresses")}),(0,a.jsx)("div",{className:"row",children:m&&m.map((function(e){return(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:o().address_info,children:[(0,a.jsx)("div",{className:o().address_title,children:"shipping"==e.addressType?r("Shipping Address"):r("Billing Address")}),(0,a.jsxs)("ul",{className:o().address_list,children:[(0,a.jsx)("li",{children:"".concat(e.fname," ").concat(e.lname)}),(0,a.jsx)("li",{children:"".concat(e.address)}),(0,a.jsx)("li",{children:"".concat(e.city)}),(0,a.jsx)("li",{children:"".concat(e.postCode)}),(0,a.jsx)("li",{children:"".concat(e.country)}),(0,a.jsxs)("li",{children:["T: ","".concat(e.phoneNumber)]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(c.default,{href:"/profile/address/edit/".concat(e._id),children:(0,a.jsx)("a",{style:{textDecoration:"",color:"black"},className:"btn btn-outline-warning btn-sm",children:"Edit"})}),(0,a.jsx)("a",{onClick:function(){return f(e._id)},className:"btn btn-outline-danger btn-sm ml-3",children:"Delete"})]})},e.fname+e.phoneNumber)}))}),(0,a.jsx)("div",{className:"".concat(o().add_new," mt-3"),children:(0,a.jsx)(c.default,{href:"/profile/address/new",children:(0,a.jsx)("a",{className:"btn btn-lg",children:r("ADD NEW")})})})]})}))}}]);